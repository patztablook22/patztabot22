#!/usr/bin/bash

PROJECT="$(dirname $0)/.."

CONFIG=$PROJECT/config
SRC=$PROJECT/src
DATA=$PROJECT/data

[ -d "$CONFIG" ] || (echo "Could not find config directory." >&2 && exit 1)
[ -d "$SRC" ]    || (echo "Could not find src directory." >&2    && exit 1)

while :; do
    python3 -- "$SRC/discord_bot.py" \
        "$CONFIG/discord_config.ini" \
        "$CONFIG/discord_token.txt" \
        "$DATA"

    [ "$?" -eq 69 ] || break
done

