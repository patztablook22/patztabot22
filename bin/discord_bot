#!/usr/bin/bash

PROJECT="$(dirname $0)/.."

CONFIG=$PROJECT/config
SRC=$PROJECT/src

[ -d "$CONFIG" ] || (echo "Could not find config directory." >&2 && exit 1)
[ -d "$SRC" ]    || (echo "Could not find src directory." >&2    && exit 1)

while :; do
    python3 -- "$SRC/chatbot/main.py" \
        "$CONFIG/discord_config.json" \
        "$CONFIG/discord_token.txt"

    [ "$?" -eq 69 ] || break
done

